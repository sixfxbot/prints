<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>SixFX Gallery</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="app">
  <div class="top-bar">
    <img src="images/logo.jpg" alt="SixFX Logo" class="logo">
  </div>

  <div class="profile-header">
    <img src="images/profilepicture.jpg" alt="Profile Picture" class="profile-pic">
    <div class="profile-details">
      <div class="username">sixFX</div>
      <div class="profile-stats">
        <div><span class="stat-number">9</span><br>Posts</div>
        <div><span class="stat-number">25</span><br>Followers</div>
        <div><span class="stat-number">5</span><br>Following</div>
      </div>
    </div>
  </div>

  <div class="bio-section">
    <div class="bio">16yrold GFX designer>_<<br></div>
    <div class="bio-links">
      <a href="https://instagram.com/_sixfx" class="bio-link">Instagram!</a>
      <a href="https://github.com/sixfxbot" class="bio-link">Prints</a>
    </div>
  </div>

  <div class="posts-grid">
    <div class="post"><img src="images/post1.jpg" alt="Post 1"></div>
    <div class="post"><img src="images/post2.jpg" alt="Post 2"></div>
    <div class="post"><img src="images/post3.jpg" alt="Post 3"></div>
    <div class="post"><img src="images/post4.jpg" alt="Post 4"></div>
    <div class="post"><img src="images/post5.jpg" alt="Post 5"></div>
    <div class="post"><img src="images/post6.gif" alt="Post 6"></div>
    <div class="post"><img src="images/post7.jpeg" alt="Post 7"></div>
    <div class="post"><img src="images/post8.jpg" alt="Post 8"></div>
    <div class="post"><img src="images/post9.jpg" alt="Post 9"></div>
  </div>
</div>

<div class="lightbox" id="lightbox">
  <div class="lightbox-inner">
    <div class="lightbox-header">
      <img src="images/profilepicture.jpg" class="lightbox-pfp" alt="PFP">
      <div class="lightbox-username">sixFX</div>
      <span class="close-btn" onclick="closeLightbox()">&times;</span>
    </div>

    <div class="lightbox-media" id="lightbox-media"></div>

    <div class="lightbox-actions">
      <button id="like-btn">&#10084; <span id="like-count">666</span></button>
      <button id="stack-btn">&#x2630;</button>
    </div>
  </div>
</div>

<script>
const posts = document.querySelectorAll('.post img');
const lightbox = document.getElementById('lightbox');
const lightboxMedia = document.getElementById('lightbox-media');
const likeBtn = document.getElementById('like-btn');
const stackBtn = document.getElementById('stack-btn');
let currentIndex = 0;
let liked = false;

function showLightbox(index) {
  currentIndex = index;
  const src = posts[currentIndex].getAttribute('src');
  lightbox.style.display = 'flex';
  document.body.classList.add('blur-bg');

  lightboxMedia.innerHTML = `<img src="${src}" alt="Post" class="lightbox-img-fill">`;

  liked = false;
  likeBtn.classList.remove('liked');
}

posts.forEach((post, index) => post.onclick = () => showLightbox(index));

function closeLightbox() {
  lightbox.style.display = 'none';
  lightboxMedia.innerHTML = '';
  document.body.classList.remove('blur-bg');
}

// Like button
likeBtn.addEventListener('click', () => {
  liked = !liked;
  likeBtn.classList.toggle('liked', liked);
  document.getElementById('like-count').textContent = "666";
});

// Vertical stack view
stackBtn.addEventListener('click', () => {
  const stackWindow = window.open("", "stackWindow", "width=400,height=800,scrollbars=yes");
  stackWindow.document.write('<html><head><title>Vertical Stack</title>');
  stackWindow.document.write('<link rel="stylesheet" href="style.css">');
  stackWindow.document.write('<style>body{margin:0;display:flex;flex-direction:column;align-items:center;background:#fff;scroll-snap-type:y mandatory;overflow-y:scroll;}.stack-img{width:95%;margin:10px 0;border:2px solid #fff;box-shadow:0 0 5px rgba(0,0,0,0.1);scroll-snap-align:start;}</style>');
  stackWindow.document.write('</head><body>');
  posts.forEach(img => {
    stackWindow.document.write('<img src="'+img.src+'" class="stack-img">');
  });
  stackWindow.document.write('</body></html>');
});

// === DOUBLE-TAP HEART EFFECT ===
let lastTap = 0;
lightboxMedia.addEventListener('click', function(e) {
  const currentTime = new Date().getTime();
  const tapLength = currentTime - lastTap;
  if (tapLength < 300 && tapLength > 0) {
    // Create heart at tap location
    const heart = document.createElement('div');
    heart.className = 'popup-heart show';
    heart.style.left = e.offsetX + 'px';
    heart.style.top = e.offsetY + 'px';
    lightboxMedia.appendChild(heart);

    // Remove heart after animation
    setTimeout(() => heart.remove(), 600);

    // Trigger like button
    liked = true;
    likeBtn.classList.add('liked');
    document.getElementById('like-count').textContent = "666";
  }
  lastTap = currentTime;
});
</script>
</body>
</html>
